{% extends 'layout.html' %}

{% block title %}My Resources{% endblock %}
{% block content_title %}Manage My Resources{% endblock %}

{% block content %}
    <div class="resources-container">
        <!-- Column for Resource Listings -->
        <div class="resource-list">
            <h3>Your Resource Listings</h3>
            <ul>
                {% for resource in resources %}
                    <li>
                        <strong>Title:</strong> {{ resource['title'] }}<br>
                        <strong>Description:</strong> {{ resource['description'] }}<br>
                        <strong>Category:</strong> {{ resource['category'] }}<br>
                        <strong>Availability:</strong> {{ resource['availability'] }}<br>
                        <strong>Posted on:</strong> {{ resource['date_posted'] }}<br>
                        <a href="{{ url_for('edit_resource', resource_id=resource['resource_id']) }}">Edit</a> |
                        <form method="POST" action="{{ url_for('delete_resource', resource_id=resource['resource_id']) }}" style="display:inline;">
                            <button type="submit" onclick="return confirm('Are you sure you want to delete this resource?');">Delete</button>
                        </form>
                    </li>
                    <hr>
                {% endfor %}
            </ul>
        </div>

        <!-- Column for Add Resource Form -->
        <div class="add-resource-form">
            <h3>Add a New Resource</h3>
            <form method="POST" action="{{ url_for('my_resources') }}">
                <label for="title">Title:</label>
                <input type="text" name="title" required><br>

                <label for="description">Description:</label>
                <textarea name="description"></textarea><br>

                <label for="category">Category:</label>
                <input type="text" name="category" required><br>

                <label for="availability">Availability:</label>
                <select name="availability">
                    <option value="available" selected>Available</option>
                    <option value="reserved">Reserved</option>
                </select><br>

                <input type="submit" value="Add Resource">
            </form>
        </div>
    </div>
{% endblock %}
